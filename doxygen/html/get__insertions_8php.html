<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AutoPulse: C:/Users/ivans/OneDrive/Документы/ZWA/sem/get_insertions.php File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AutoPulse<span id="projectnumber">&#160;v 1.0.1</span>
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">C:/Users/ivans/OneDrive/Документы/ZWA/sem/get_insertions.php File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This script executes retrieving and displaying insertions to the user in various modes according to the parameters of GET request.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aab31538ea3bc3f6346d7a1c37f46895f" id="r_aab31538ea3bc3f6346d7a1c37f46895f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aab31538ea3bc3f6346d7a1c37f46895f">terminateGetInsertionsWithError</a> ($errorParam)</td></tr>
<tr class="separator:aab31538ea3bc3f6346d7a1c37f46895f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a3aaf40baac36e278c7d7c9139df1750c" id="r_a3aaf40baac36e278c7d7c9139df1750c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3aaf40baac36e278c7d7c9139df1750c">$mode</a> = null</td></tr>
<tr class="separator:a3aaf40baac36e278c7d7c9139df1750c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeba2ab722cedda53dbb7ec1a59f45550" id="r_aeba2ab722cedda53dbb7ec1a59f45550"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeba2ab722cedda53dbb7ec1a59f45550">$error</a> = null</td></tr>
<tr class="separator:aeba2ab722cedda53dbb7ec1a59f45550"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a904832a0d63b762d0f3c18cebd3ea4c5" id="r_a904832a0d63b762d0f3c18cebd3ea4c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="editdata_8php.html#a281634815c5c744a60ecba6a6b799df4">if</a>(! $_GET||(count( $_GET)==1 &amp;&amp;isset( $_GET[ 'page']))) <a class="el" href="auth_failure_pop_up_8php.html#a398775f50b1f83d02fe00fc7853f1179">elseif</a>(isset($_GET['personal']) &amp;&amp; $_GET['personal']==true) <a class="el" href="auth_failure_pop_up_8php.html#a398775f50b1f83d02fe00fc7853f1179">elseif</a>(isset( $_GET[ 'status']) &amp;&amp;$_GET[ 'status']=='waiting') <a class="el" href="auth_failure_pop_up_8php.html#a398775f50b1f83d02fe00fc7853f1179">elseif</a>(isset($_GET['make']) &amp;&amp;isset($_GET['model']))&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a904832a0d63b762d0f3c18cebd3ea4c5">else</a></td></tr>
<tr class="separator:a904832a0d63b762d0f3c18cebd3ea4c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa6cb2f0dcc39b4cc1d795b40dac50d0" id="r_aaa6cb2f0dcc39b4cc1d795b40dac50d0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaa6cb2f0dcc39b4cc1d795b40dac50d0">if</a> (session_status()===PHP_SESSION_NONE)</td></tr>
<tr class="separator:aaa6cb2f0dcc39b4cc1d795b40dac50d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb1988642ff4f03fdfb3658cdd14fa0" id="r_a6cb1988642ff4f03fdfb3658cdd14fa0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6cb1988642ff4f03fdfb3658cdd14fa0">$records</a> = []</td></tr>
<tr class="separator:a6cb1988642ff4f03fdfb3658cdd14fa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6871c9288a00822fada8e596f76a2169" id="r_a6871c9288a00822fada8e596f76a2169"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6871c9288a00822fada8e596f76a2169">$feed_name</a> = &quot;Naposledy zveřejněno&quot;</td></tr>
<tr class="separator:a6871c9288a00822fada8e596f76a2169"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9a2a03abbdc3e6844fd6c19c0d13641" id="r_ab9a2a03abbdc3e6844fd6c19c0d13641"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab9a2a03abbdc3e6844fd6c19c0d13641">$feed_filter_declare</a></td></tr>
<tr class="separator:ab9a2a03abbdc3e6844fd6c19c0d13641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ed08ab510e3b7950236f0d80d600881" id="r_a1ed08ab510e3b7950236f0d80d600881"><td class="memItemLeft" align="right" valign="top">if( $mode===&quot;main_page&quot; &amp;&amp;$error===null) if($mode===&quot;personal&quot; &amp;&amp; $error===null) <a class="el" href="auth_failure_pop_up_8php.html#a398775f50b1f83d02fe00fc7853f1179">elseif</a>( $mode===&quot;admin&quot; &amp;&amp;$error===null) <a class="el" href="auth_failure_pop_up_8php.html#a398775f50b1f83d02fe00fc7853f1179">elseif</a>($mode===&quot;default&quot; &amp;&amp; $error===null) if( $mode !==&quot;main_page&quot;||isset( $_GET&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1ed08ab510e3b7950236f0d80d600881">if</a> [ 'page']))(( $mode===&quot;main_page&quot; &amp;&amp;$offset !=0)||$mode===&quot;default&quot;||(isset( $_GET[ 'page']) &amp;&amp;( $mode===&quot;main_page&quot;||$mode===&quot;default&quot;)))</td></tr>
<tr class="separator:a1ed08ab510e3b7950236f0d80d600881"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4a35926448430818fa74a69583babe9" id="r_ab4a35926448430818fa74a69583babe9"><td class="memItemLeft" align="right" valign="top">$i&lt; 10;$i++) { <a class="el" href="editdata_8php.html#a281634815c5c744a60ecba6a6b799df4">if</a>(count( $records) &gt;=$i+1) { echo '&lt; a href=&quot;' . &quot;insertion.php?id=&quot; . htmlspecialchars($records[$i]['id'], ENT_QUOTES, 'UTF-8') . '&quot; class=&quot;insertion&quot;&gt;';echo '&lt; div class=&quot;insertion-img-container&quot;&gt;';echo '&lt; img src=&quot;' . 'avatar/' . htmlspecialchars($records[$i]['avatar_path'], ENT_QUOTES, 'UTF-8') . '&quot;&gt;';echo '&lt;/div &gt;';echo '&lt; div class=&quot;insertion-info-container&quot;&gt;';echo '&lt; div class=&quot;insertion-name&quot;&gt;' . htmlspecialchars( $records[ $i][ 'make'], ENT_QUOTES, 'UTF-8') . &quot; &quot; . htmlspecialchars( $records[ $i][ 'model'], ENT_QUOTES, 'UTF-8') . '&lt;/div &gt;';echo '&lt; div class=&quot;insertion-short-decription&quot;&gt;' . htmlspecialchars( $records[ $i][ 'short_description'], ENT_QUOTES, 'UTF-8') . '&lt;/div &gt;';echo '&lt; div class=&quot;insertion-details&quot;&gt;' . htmlspecialchars( $records[ $i][ 'year'], ENT_QUOTES, 'UTF-8') . &quot;, &quot; . htmlspecialchars( $records[ $i][ 'mileage'], ENT_QUOTES, 'UTF-8') . &quot; km&quot; . '&lt;/div &gt;';echo '&lt; div class=&quot;insertion-price&quot;&gt;' . htmlspecialchars( $records[ $i][ 'price'], ENT_QUOTES, 'UTF-8') . &quot; Kč&quot; . '&lt;/div &gt;';<a class="el" href="editdata_8php.html#a281634815c5c744a60ecba6a6b799df4">if</a>( $mode===&quot;personal&quot;) { echo '&lt; div class=&quot;insertion-status&quot;&gt;Status:' . htmlspecialchars( $records[ $i][ 'insertion_status'], ENT_QUOTES, 'UTF-8') . '&lt;/div &gt;';} echo '&lt;/div &gt;';echo '&lt;/a &gt;';} } ?&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab4a35926448430818fa74a69583babe9">endif</a></td></tr>
<tr class="separator:ab4a35926448430818fa74a69583babe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac366e72232831d54874e9c48e93905e9" id="r_ac366e72232831d54874e9c48e93905e9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="editdata_8php.html#a281634815c5c744a60ecba6a6b799df4">if</a>(count( $records) &gt; 0)(( $offset/10 - 2) &gt;=0) <a class="el" href="editdata_8php.html#a281634815c5c744a60ecba6a6b799df4">if</a>(($offset/10 - 1) &gt;=0)&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac366e72232831d54874e9c48e93905e9">$query</a> = $_GET</td></tr>
<tr class="separator:ac366e72232831d54874e9c48e93905e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59bee4026625e2b70e5d9c91cd839566" id="r_a59bee4026625e2b70e5d9c91cd839566"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a59bee4026625e2b70e5d9c91cd839566">$query</a> ['page'] = $offset/10+1</td></tr>
<tr class="separator:a59bee4026625e2b70e5d9c91cd839566"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f0e31bba691c3a1e02d99e70bcdcd47" id="r_a6f0e31bba691c3a1e02d99e70bcdcd47"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6f0e31bba691c3a1e02d99e70bcdcd47">$queryString</a> = http_build_query($query)</td></tr>
<tr class="separator:a6f0e31bba691c3a1e02d99e70bcdcd47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59bee4026625e2b70e5d9c91cd839566" id="r_a59bee4026625e2b70e5d9c91cd839566"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a59bee4026625e2b70e5d9c91cd839566">$query</a> ['page'] = isset($query['page']) ? $query['page'] + 1 : 2</td></tr>
<tr class="separator:a59bee4026625e2b70e5d9c91cd839566"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59bee4026625e2b70e5d9c91cd839566" id="r_a59bee4026625e2b70e5d9c91cd839566"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a59bee4026625e2b70e5d9c91cd839566">$query</a> ['page'] = isset($query['page']) ? $query['page'] + 2 : 3</td></tr>
<tr class="separator:a59bee4026625e2b70e5d9c91cd839566"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This script executes retrieving and displaying insertions to the user in various modes according to the parameters of GET request. </p>
<p>1) Defines the current mode of displaying the insertions. Modes are the following:</p><ul>
<li>"main_page", if GET request parameters are empty or contain the number of page to display only. In this mode, the only available filter and order of displaying the insertions is descending by the date of their posting. Only published insertions are displayed. Searchabar for the detailed search by make and model is displayed in this mode.</li>
<li>"personal", if there's "personal" parameter of the value of "true" among the current GET request parametres. Displays all the existing insertions with the value of 'seller_id' column that equals to the 'user_id' in $_SESSION (all the insertions of the current user). Terminates and redirects with error, if 'user_id' isn't set in $_SESSION. In this mode, the only available filter and order of displaying the insertions is descending by the date of their posting. Also is the only mode where current status of the insertion (whether 'waiting' or 'published') is displayed.</li>
<li>"admin", if there's "status" parameter of the value of "waiting" among the current GET request parametres. Checks if the user is in fact an authorized admin (first by the contents of $_SESSION, then by the value of 'admin' column by the current 'user_id' of $_SESSION), terminates and redirects with error in case of inability to provide the complete check or negative results of the check. Displays all the insertions that are currently awaiting to be confirmed to be published by the website admins. Retrieves all the insertions with the 'waiting' value of the column 'insertion_status' of the 'insertions' table. In this mode, the only available filter and order of displaying the insertions is descending by the date of their posting.</li>
<li>"default", if there's 'make' and 'model' among the current GET request parameters. Displays all the 'published' insertions of the make and model that are set in GET parameters. Results can be filtered and ordered: descending by the date of their posting, descedning by the price, ascending by the price. Filtering is set by optional 'filter' and 'order' parameters of the current GET request, users can set them through the select field available above the insertions list. Changing the value of the select triggers redirect to the new insertions page with new 'filter' and 'order' parameters. Initial displayed value of the select is set according to 'filter' and 'order' parameters of the current GET request by filter_insertions.js script included at the bottom of &lt;body&gt;. 2) Connects to the database. 3) Retrieves the insertions according to the current mode and GET parameters. 4) Displays the retrived insertions list with minor changes of the interface according to the mode (name of the list, available options of the filter, insertions status). In case of no insertions been found for the current GET parameters, an error occuring during the communication with database or invalid values of make or model in the URL (user altering the URL), displays the message that no insertions were found or the URL is invalid. 5) In case of 1 or more insertions been found, displays page index buttons below. Insertions are displayed at maximum of 10 per page according to the 'page' parameter of the current GET request. 'page=1' displays 1st to 10th insertions of the whole insertions list that is retrieved. Among the page index buttons are links to the pages of the: second previous 10 in the list, if they exist; previous 10 in the list, if they exist; current page; next 10 in the list, if they exist; second next 10 insertions in the list, if they exist. </li>
</ul>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aab31538ea3bc3f6346d7a1c37f46895f" name="aab31538ea3bc3f6346d7a1c37f46895f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab31538ea3bc3f6346d7a1c37f46895f">&#9670;&#160;</a></span>terminateGetInsertionsWithError()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">terminateGetInsertionsWithError </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$errorParam</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Redirects the user to a specified location with an error parameter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$errorParam</td><td>The error parameter to append to the URL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aeba2ab722cedda53dbb7ec1a59f45550" name="aeba2ab722cedda53dbb7ec1a59f45550"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeba2ab722cedda53dbb7ec1a59f45550">&#9670;&#160;</a></span>$error</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$error = null</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab9a2a03abbdc3e6844fd6c19c0d13641" name="ab9a2a03abbdc3e6844fd6c19c0d13641"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9a2a03abbdc3e6844fd6c19c0d13641">&#9670;&#160;</a></span>$feed_filter_declare</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$feed_filter_declare</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="stringliteral">&#39;&lt;form action=&quot;get_insertions.php&quot; method=&quot;get&quot; id=&quot;filter-form&quot;&gt;</span></div>
<div class="line"><span class="stringliteral">                            &lt;label for=&quot;filter-select&quot;&gt;Seřadit podle:&lt;/label&gt;</span></div>
<div class="line"><span class="stringliteral">                            &lt;select id=&quot;filter-select&quot; class=&quot;feed-filter&quot;&gt;</span></div>
<div class="line"><span class="stringliteral">                                &lt;option value=&quot;date&quot;&gt;Datum vložení&lt;/option&gt;</span></div>
<div class="line"><span class="stringliteral">                            &lt;/select&gt;</span></div>
<div class="line"><span class="stringliteral">                        &lt;/form&gt;&#39;</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6871c9288a00822fada8e596f76a2169" name="a6871c9288a00822fada8e596f76a2169"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6871c9288a00822fada8e596f76a2169">&#9670;&#160;</a></span>$feed_name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$feed_name = &quot;Naposledy zveřejněno&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the feed name and filter declaration for the main page view. </p>

</div>
</div>
<a id="a3aaf40baac36e278c7d7c9139df1750c" name="a3aaf40baac36e278c7d7c9139df1750c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3aaf40baac36e278c7d7c9139df1750c">&#9670;&#160;</a></span>$mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$mode = null</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac366e72232831d54874e9c48e93905e9" name="ac366e72232831d54874e9c48e93905e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac366e72232831d54874e9c48e93905e9">&#9670;&#160;</a></span>$query <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="editdata_8php.html#a281634815c5c744a60ecba6a6b799df4">if</a>(count($records) &gt; 0)(($offset/10 - 2) &gt;=0) <a class="el" href="editdata_8php.html#a281634815c5c744a60ecba6a6b799df4">if</a> (( $offset/10 - 1) &gt;=0) $query = $_GET</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a59bee4026625e2b70e5d9c91cd839566" name="a59bee4026625e2b70e5d9c91cd839566"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59bee4026625e2b70e5d9c91cd839566">&#9670;&#160;</a></span>$query <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$query[ 'page'] = $offset/10+1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a59bee4026625e2b70e5d9c91cd839566" name="a59bee4026625e2b70e5d9c91cd839566"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59bee4026625e2b70e5d9c91cd839566">&#9670;&#160;</a></span>$query <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$query[ 'page'] = isset($query['page']) ? $query['page'] + 1 : 2</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a59bee4026625e2b70e5d9c91cd839566" name="a59bee4026625e2b70e5d9c91cd839566"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59bee4026625e2b70e5d9c91cd839566">&#9670;&#160;</a></span>$query <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$query[ 'page'] = isset($query['page']) ? $query['page'] + 2 : 3</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6f0e31bba691c3a1e02d99e70bcdcd47" name="a6f0e31bba691c3a1e02d99e70bcdcd47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f0e31bba691c3a1e02d99e70bcdcd47">&#9670;&#160;</a></span>$queryString</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$queryString = http_build_query($query)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6cb1988642ff4f03fdfb3658cdd14fa0" name="a6cb1988642ff4f03fdfb3658cdd14fa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cb1988642ff4f03fdfb3658cdd14fa0">&#9670;&#160;</a></span>$records</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$records = []</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a904832a0d63b762d0f3c18cebd3ea4c5" name="a904832a0d63b762d0f3c18cebd3ea4c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a904832a0d63b762d0f3c18cebd3ea4c5">&#9670;&#160;</a></span>else</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="auth_failure_pop_up_8php.html#a398775f50b1f83d02fe00fc7853f1179">elseif</a> ( $error===&quot;db_access_failed&quot;||$error===&quot;gi_getdata_failed&quot;||count(value:$records)===0) else</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div>
<div class="line">    <a class="code hl_variable" href="process-publish_insertion_8php.html#a6733eb5f605d09eaede9845835d71c4e">exit</a></div>
<div class="ttc" id="aprocess-publish_insertion_8php_html_a6733eb5f605d09eaede9845835d71c4e"><div class="ttname"><a href="process-publish_insertion_8php.html#a6733eb5f605d09eaede9845835d71c4e">exit</a></div><div class="ttdeci">exit</div><div class="ttdoc">&lt; Redirects to the main page after successful insertion.</div><div class="ttdef"><b>Definition</b> process-publishInsertion.php:374</div></div>
</div><!-- fragment --><p>Determines the operational mode based on the <code>$_GET</code> parameters.</p>
<p>Calculates the offset for pagination based on the <code>page</code> parameter in <code>$_GET</code>. </p>

</div>
</div>
<a id="ab4a35926448430818fa74a69583babe9" name="ab4a35926448430818fa74a69583babe9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4a35926448430818fa74a69583babe9">&#9670;&#160;</a></span>endif</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$i&lt; 10; $i++) { <a class="el" href="editdata_8php.html#a281634815c5c744a60ecba6a6b799df4">if</a> (count($records) &gt;= $i + 1) { echo '&lt;a href=&quot;' . &quot;insertion.php?id=&quot; . htmlspecialchars($records[$i]['id'], ENT_QUOTES, 'UTF-8') . '&quot; class=&quot;insertion&quot;&gt;'; echo ' &lt;div class=&quot;insertion-img-container&quot;&gt;'; echo ' &lt;img src=&quot;' . 'avatar/' . htmlspecialchars($records[$i]['avatar_path'], ENT_QUOTES, 'UTF-8') . '&quot;&gt;'; echo ' &lt;/div&gt;'; echo ' &lt;div class=&quot;insertion-info-container&quot;&gt;'; echo ' &lt;div class=&quot;insertion-name&quot;&gt;' . htmlspecialchars($records[$i]['make'], ENT_QUOTES, 'UTF-8') . &quot; &quot; . htmlspecialchars($records[$i]['model'], ENT_QUOTES, 'UTF-8') . '&lt;/div&gt;'; echo ' &lt;div class=&quot;insertion-short-decription&quot;&gt;' . htmlspecialchars($records[$i]['short_description'], ENT_QUOTES, 'UTF-8') . '&lt;/div&gt;'; echo ' &lt;div class=&quot;insertion-details&quot;&gt;' . htmlspecialchars($records[$i]['year'], ENT_QUOTES, 'UTF-8') . &quot;, &quot; . htmlspecialchars($records[$i]['mileage'], ENT_QUOTES, 'UTF-8') . &quot; km&quot; . '&lt;/div&gt;'; echo ' &lt;div class=&quot;insertion-price&quot;&gt;' . htmlspecialchars($records[$i]['price'], ENT_QUOTES, 'UTF-8') . &quot; Kč&quot; . '&lt;/div&gt;'; <a class="el" href="editdata_8php.html#a281634815c5c744a60ecba6a6b799df4">if</a> ($mode === &quot;personal&quot;) { echo ' &lt;div class=&quot;insertion-status&quot;&gt;Status: ' . htmlspecialchars($records[$i]['insertion_status'], ENT_QUOTES, 'UTF-8') . '&lt;/div&gt;'; } echo ' &lt;/div&gt;'; echo '&lt;/a&gt;'; } } ?&gt; endif</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aaa6cb2f0dcc39b4cc1d795b40dac50d0" name="aaa6cb2f0dcc39b4cc1d795b40dac50d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa6cb2f0dcc39b4cc1d795b40dac50d0">&#9670;&#160;</a></span>if <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if(session_status()===PHP_SESSION_NONE) </td>
          <td>(</td>
          <td class="paramtype">session_status()</td>          <td class="paramname"><span class="paramname"><em></em></span><span class="paramdefsep"> = </span><span class="paramdefval">==&#160;PHP_SESSION_NONE</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Starts a session if it has not been started already. </p>

</div>
</div>
<a id="a1ed08ab510e3b7950236f0d80d600881" name="a1ed08ab510e3b7950236f0d80d600881"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ed08ab510e3b7950236f0d80d600881">&#9670;&#160;</a></span>if <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if($mode===&quot;main_page&quot; &amp;&amp; $error===null) if( $mode===&quot;personal&quot; &amp;&amp;$error===null) <a class="el" href="auth_failure_pop_up_8php.html#a398775f50b1f83d02fe00fc7853f1179">elseif</a>($mode===&quot;admin&quot; &amp;&amp; $error===null) <a class="el" href="auth_failure_pop_up_8php.html#a398775f50b1f83d02fe00fc7853f1179">elseif</a>( $mode===&quot;default&quot; &amp;&amp;$error===null) if($mode !==&quot;main_page&quot;||isset($_GET if['page']))(($mode===&quot;main_page&quot; &amp;&amp; $offset !=0)|| $mode===&quot;default&quot;||(isset($_GET['page']) &amp;&amp;($mode===&quot;main_page&quot;|| $mode===&quot;default&quot;))) </td>
          <td>(</td>
          <td class="paramtype">($mode===&quot;main_page&quot; &amp;&amp; $offset !=0)||</td>          <td class="paramname"><span class="paramname"><em>$mode</em></span><span class="paramdefsep"> = </span><span class="paramdefval">==&#160;&quot;default&quot;&#160;||&#160;(isset($_GET['page'])&#160;&amp;&amp;&#160;($mode&#160;===&#160;&quot;main_page&quot;&#160;||&#160;$mode&#160;===&#160;&quot;default&quot;))</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Handles the "main_page" mode: retrieves published insertions and their count. Handles the "personal" mode: retrieves the user's own insertions. Handles the "admin" mode: retrieves insertions awaiting approval by the admin. Handles the "default" mode: retrieves insertions filtered by make and model. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
